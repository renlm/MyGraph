## Tomcat
	$ docker pull openjdk:17-jdk-alpine
    $ docker run --name openjdk -d openjdk:17-jdk-alpine
	$ docker exec -it openjdk bash

### 安装Chrome  
    
```
# 清华大学镜像源（如遇失败，请重启容器）
# https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/
root@108ce821d6c2:/usr/local/tomcat# cat /etc/os-release
cp -a /etc/apt/sources.list /etc/apt/sources.list.bak
sed -i "s@http://.*archive.ubuntu.com@https://mirrors.tuna.tsinghua.edu.cn@g" /etc/apt/sources.list
sed -i "s@http://.*security.ubuntu.com@https://mirrors.tuna.tsinghua.edu.cn@g" /etc/apt/sources.list
apt-get update

root@108ce821d6c2:/usr/local/tomcat# wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
root@108ce821d6c2:/usr/local/tomcat# apt -y install ./google-chrome-stable_current_amd64.deb
root@108ce821d6c2:/usr/local/tomcat# google-chrome --version
```

### 安装ChromeDriver  

```
# 注意：chromedriver版本要和chrome对应
# https://npm.taobao.org/mirrors/chromedriver/
root@108ce821d6c2:/usr/local/tomcat# mkdir -p /opt/chrome
root@108ce821d6c2:/usr/local/tomcat# wget https://npm.taobao.org/mirrors/chromedriver/108.0.5359.71/chromedriver_linux64.zip -P /opt/chrome
root@108ce821d6c2:/usr/local/tomcat# cd /opt/chrome
root@108ce821d6c2:/opt/chrome# apt -y install unzip
root@108ce821d6c2:/opt/chrome# unzip chromedriver_linux64.zip
```

### 安装中文字体  

```
root@108ce821d6c2:/opt/chrome# apt -y install fonts-arphic-uming
root@108ce821d6c2:/opt/chrome# fc-list :lang=zh
```

## 保存镜像
	$ docker login --username=renlm@21cn.com registry.cn-hangzhou.aliyuncs.com
	
```
	# https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors
	# docker commit -a "作者" -m "描述信息" 容器id 目标镜像名:[镜像版本号]
	# docker push registry.cn-hangzhou.aliyuncs.com/rlm/tomcat10.1.1-jre17:[镜像版本号]
```
	
	$ docker commit -a "renlm.cn" -m "tomcat10.1.1-jre17" 108ce821d6c2 registry.cn-hangzhou.aliyuncs.com/rlm/tomcat10.1.1-jre17
	$ docker push registry.cn-hangzhou.aliyuncs.com/rlm/tomcat10.1.1-jre17
