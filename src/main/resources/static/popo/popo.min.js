/*
 * PoPo 1.4.0, a JS UI library for data visualization and large screen.
 * https://github.com/shunok/PoPo (c) 2017-2018 DaShun
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.P=t.P||{})}(this,function(t){"use strict";function e(t){return t._popo_id=t._popo_id||++pi,t._popo_id}function i(t,e){if(!e)return t;var i=Array.prototype.slice,n=i.call(arguments,2);return t.bind?t.bind.apply(t,i.call(arguments,1)):function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}function n(t){for(var e=1,i=arguments.length;e<i;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function o(t,e,i){return u(t)?u(e)&&t<e?e:u(i)&&t>i?i:t:t}function r(t){return h(t)?t.trim?t.trim():t.replace(/^\s+|\s+$/g,""):t}function l(t){return r(t).split(/\s+/)}function a(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function s(t){return a(t,"Array")}function h(t){return a(t,"String")}function u(t){return a(t,"Number")}function d(t){return a(t,"Function")}function f(t){return a(t,"Object")}function c(t){if(!f(t))return!1;for(var e in t)return!1;return!0}function p(t){return!isNaN(Number(t))}function v(t,e){if(f(e))for(var i in e)f(e[i])?(f(t[i])||(t[i]={}),v(t[i],e[i])):t[i]=e[i];return t}function g(t,e){return s(e)&&e.forEach(function(e){v(t,e)}),t}function m(t,e,i,n){if(t&&t.length&&e)for(var o=0,r=t.length;o<r;o++)if(t[o][e]&&t[o][e]===i)return n?o:t[o]}function _(t,e,i){for(var n=0,o=t.length;n<o;n++)if(void 0!==i&&t[n][e]===i||void 0===i&&t[n]===e)return t.splice(n,1);return[]}function y(t){return t&&"string"==typeof t?document.getElementById(t):t}function E(t){return t instanceof HTMLElement}function w(t){return!!t&&"object"===(void 0===t?"undefined":hi(t))&&1===t.nodeType&&"string"==typeof t.nodeName}function N(t){return f(t)?JSON.parse(JSON.stringify(t)):t}function I(t,e){var i={},n={};for(var o in t)d(t[o])?n[o]=t[o]:i[o]=t[o];var r=v(JSON.parse(JSON.stringify(i)),e);for(var l in n)r[l]=n[l];return r}function b(t,e){return 100*o(t||e||0,0,1)}function x(t){return h(t)?t.charAt(0).toUpperCase()+t.slice(1):t}function O(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}function D(t){return!t||t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})}function T(t){for(var e=[],i=0,n=t.length;i<n;i++){for(var o=i+1;o<n;o++)t[i]===t[o]&&(o=++i);e.push(t[i])}return e}function S(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})}function z(t){return h(t)&&t.indexOf("%")>0||t>=-1&&t<=1}function L(t){if(h(t)){var e=t.indexOf("%");if(e>0)return Number(t.substring(0,e))/100;if(p(t))return Number(t)}return t}function C(t){return 100*t+"%"}function R(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}function k(t,e,i){function n(){r=!1,l&&(o.apply(i,l),l=!1)}function o(){r?l=arguments:(t.apply(i,arguments),setTimeout(n,e),r=!0)}var r=null,l=null;return o}function P(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i}function A(t){return u(t)&&!isNaN(t)?t:h(t)?p(t)?Number(t):L(t):0}function M(t,e){if(e=e||1,h(t)){if(t.indexOf("%")>0)return t;if(t.indexOf("px")>0)return H(t)*e+"px";if(p(t))return Number(t)*e+"px"}return p(t)?t*e+"px":"0px"}function W(t,e){return t=A(t),e=e||1,0===t||t<0?t:t<=1&&t>0?e*t:t}function H(t){return h(t)&&t.indexOf("px")>0?(t=r(t),Number(t.substring(0,t.indexOf("px")))):t}function G(t,e){if(e=e||1,t||(t="0 0"),h(t)){var i=l(t).map(function(t){return H(t)});if(s(i)){if(4===i.length)return{top:Number(i[0])*e,right:Number(i[1])*e,bottom:Number(i[2])*e,left:Number(i[3])*e};if(2===i.length)return{top:Number(i[0])*e,right:Number(i[1])*e,bottom:Number(i[0])*e,left:Number(i[1])*e};1===i.length&&(t=Number(t))}}return u(t)&&t>=0?{top:t*e,right:t*e,bottom:t*e,left:t*e}:null}function Z(t,e){if(e=e||1,t&&h(t)){if(t.indexOf("%")>0)return 100*L(t)+"%";if(t.indexOf("px")>0)return Number(H(t))*e+"px"}return p(t)?Number(t)*e+"px":"0px"}function F(t,e){t||(t="0 0"),e=e||1,p(t)&&(t=String(t));var i=[];return h(t)&&(i=l(t),2===i.length&&(i=i.concat([i[0],i[1]])),3===i.length&&i.push(i[2]),1===i.length&&(i=i.concat([i[0],i[0],i[0]]))),4===i.length?{top:Z(i[0],e),right:Z(i[1],e),bottom:Z(i[2],e),left:Z(i[3],e)}:null}function X(t){if(s(t)){var e=t.length;!function e(i){i>=1&&(t[i]===t[i-1]&&t.splice(i,1),e(i-1))}(e-1)}return t}function Y(){}function U(){return"xxxyxxxxxxxxyxxxxxxxxxxyxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}).toLowerCase()}function j(t){return t.uuid=t.uuid||U(),t.uuid}function B(t,e,i){s(t)&&t.splice(e,0,i)}function K(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function V(t){return vi(t)?void 0===t.className.baseVal?t.className:t.className.baseVal:null}function q(t,e){if(!vi(t)&&!e)return!1;if(void 0!==t.classList)return t.classList.contains(e);var i=V(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function $(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function J(t,e){if(vi(t)&&e)if(void 0!==t.classList)for(var i=l(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!q(t,e)){var r=V(t);$(t,(r?r+" ":"")+e)}}function Q(t,e){vi(t)&&e&&(e=l(e),e.forEach(function(e){if(void 0!==t.classList)t.classList.remove(e);else{var i=V(t);$(t,r((" "+i+" ").replace(" "+e+" "," ")))}}))}function tt(t,e,i){if(vi(t)&&!c(e))for(var n in e){var o=n;i&&o&&(o=D(o),o=K([o,"webkit"+o,"moz"+o,"ms"+o,"o"+o])),o&&null!==e[o]&&void 0!==e[o]&&(t.style[o]=e[o])}}function et(t,e){if(vi(t)&&e){if(h(e))return dt(t,O(e));if(!c(e))return void tt(t,e,!0)}}function it(t,e,i,n){var o=document.createElement(t||"div");return e&&J(o,e),f(i)&&et(o,i),vi(n)&&n.appendChild(o),o}function nt(t,e){if(vi(t)&&(h(e)&&(t.innerHTML=e),e&&vi(e)&&t.appendChild(e),void 0===e))return t.innerHTML}function ot(t){return vi(t)&&"none"===dt(t,"display")}function rt(t){if(h(t)){var e=document.querySelector("head");if(e){var i=e.querySelector("style");if(i)i.innerHTML+=t;else{var n=document.createElement("style"),o=document.querySelector("link");n.type="text/css",n.innerHTML=t,o?e.insertBefore(n,o):e.appendChild(n)}}}}function lt(t,e){Array.prototype.forEach.call((e||document).querySelectorAll("."+t),function(t){vi(t)&&t.parentNode.removeChild(t)})}function at(t,e){Array.prototype.forEach.call((e||document).querySelectorAll("["+wi.ROLE+'="'+t+'"]'),function(t){vi(t)&&t.parentNode.removeChild(t)})}function st(t,e){return vi(t)&&e&&t.querySelector(e)}function ht(t,e,n){vi(t)&&(e=i(e,n),Array.prototype.forEach.call(t.childNodes,function(t){d(e)&&e(t)}))}function ut(t,e,i){if(vi(t)&&void 0!==e){if(void 0===i)return t.getAttribute(e);t.setAttribute(e,i)}}function dt(t,e){if(t&&vi(t)){if(t.currentStyle)return t.currentStyle[e];if(window.getComputedStyle)return window.getComputedStyle(t,null)[e]}return null}function ft(t,e){if(t){var i=dt(t,e);if(h(i)){if(i.indexOf("px")>0)return Number(i.substring(0,i.length-2));if(p(i))return Number(i)}}return 0}function ct(t){return vi(t)?t.getBoundingClientRect():null}function pt(t){if(vi(t)){var e=t.getAttribute(wi.COMPONENT_ID_KEY);if(Number(e)>0)return e}if(f(t)){if(t.getId)return t.getId();if(t.id)return t.id}return t}function vt(){rt("/* PoPo Public Style */\n    div["+wi.POPO+"] {display:none}\n    div["+wi.TARGET+"] {width:100%;height:100%;}\n    div["+wi.ROLE+"], div["+wi.ROLE+"]:after,div["+wi.ROLE+"]:before{box-sizing: border-box;}\n    div[data-popo-role="+wi.PANE+"]{transform-origin: 0 0;-ms-transform-origin: 0 0;-webkit-transform-origin: 0 0;}\n    div[data-popo-role="+wi.GRID_L_C_R+"]{zoom:1;position:relative;}\n    div[data-popo-role="+wi.GRID_L_C_R+"]:after{content:'';display:block;clear:both;height:0;}\n    div[data-popo-role="+wi.GRID_LEFT+"],div[data-popo-role="+wi.GRID_CENTER+"],div[data-popo-role="+wi.GRID_RIGHT+"]{float:left;position:relative;}\n    div[data-popo-role="+wi.GRID_FOOT+"],div[data-popo-role="+wi.GRID_HEAD+"] {position:relative;}\n    ."+wi.INFO+", ."+wi.EXT_PANE+"{position:absolute;z-index:100;box-sizing:border-box;}\n    ."+wi.EXT_PANE+" *{box-sizing:border-box;}\n    ."+wi.EXT_PANE+"{border:2px solid rgba(0,0,0,0.2);border-radius: 2px;overflow:hidden;}\n    ."+wi.EXT_PANE+" a, ."+wi.EXT_PANE+" span{font: bold 18px 'Lucida Console', Monaco, monospace;width:30px;height:30px;text-align:center;display:block;border-bottom:1px solid #bbb;line-height:30px;color:#333;background-color:#ffffff;text-decoration:none;outline:none;}\n    ."+wi.EXT_PANE+" a:hover{background-color:#f2f2f2;}\n    ."+wi.EXT_PANE+" span{font-size:11px;}\n    ."+wi.NAME+"-grab {cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;}\n    ."+wi.NAME+"-grabbing {cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing;}\n    ")}function gt(t,i,n,o){function r(e){return n.call(o||t,e||window.event)}if(!t)return null;var l=i+e(n)+(o?"{_"+e(o)+"}":"");return t[ki]&&t[ki][l]?this:("addEventListener"in t?t.addEventListener(i,r,!1):"attachEvent"in t&&t.attachEvent("on{$type}",r),t[ki]=t[ki]||{},t[ki][l]=r,null)}function mt(t,i,n,o){if(!t)return null;var r=i+e(n)+(o?"{_"+e(o)+"}":""),l=t[ki]&&t[ki][r];return l?("removeEventListener"in t?t.removeEventListener(i,l,!1):"detachEvent"in t&&t.detachEvent("on"+i,l),t[ki][r]=null,null):this}function _t(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function yt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Et(t){return yt(t),_t(t),this}function wt(t,e,i,n){if(t&&e){e=l(e);for(var o=0,r=e.length;o<r;o++)gt(t,e[o],i,n)}return this}function Nt(t,e,i,n){if(t)if(e){e=l(e);for(var o=0,r=e.length;o<r;o++)mt(t,e[o],i,n)}else{for(var a in t[ki])mt(t,a,t[ki][a]);delete t[ki]}}function It(t){return Ri.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Pi:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function bt(t){var e=0;return s(t)&&t.forEach(function(t){u(t)&&(e+=t),s(t)&&u(t[0])&&(e+=t[0])}),e}function xt(t){var e=Ot(t);return e<=0?bt(t):e}function Ot(t){var e=0;if(s(t))for(var i=0,n=t.length;i<n;i++){if(!u(t[i]))return-1;e+=t[i]}return e}function Dt(t,e,i,n){function o(t,n){var l="row"===n?i:e;(s(t)||s(t[1]))&&(xt(t[1])>l&&(r=!1),s(t[1])&&t[1].forEach(function(t){s(t)&&o(t,"row"===n?"col":"row")}))}var r=!0,l="row"===n?e:i;if(bt(t)>l)r=!1;else for(var a=0,h=t.length;a<h;a++)o(t[a],n);return r}function Tt(t,e){if(!t||!e)return null;for(var i=100/t,n=100/e,o={},r=1;r<=t;r++)o[wi.SINGLE_ROW+"-"+r]=(i*r).toFixed(5);for(var l=1;l<=e;l++)o[wi.COL+"-"+l]=(n*l).toFixed(5);return o}function St(t,e,i,n){return u(t)&&t>=1&&t<=(e||Math.max(i,n))}function zt(t,e,i){for(var n=0,o=0,r=t.length;o<r;o++){var l=t[o][0];if(!St(l,null,e,i))return 0;n+=l}return n}function Lt(t,e,i){if(!t||!t.length)return!1;if(!zt(t,e,i))throw new Error(Mi.LY_INVALID);return!0}function Ct(t,e){return t<0?wi.SINGLE_ROW+"-"+e:wi.SINGLE_ROW+"-"+t}function Rt(t,e){return t<0?e?" "+wi.ROW:"":wi.COL+"-"+t+(e?" "+wi.ROW:"")}function kt(t,e,i,n){i=Math.floor(t/o(i,1,t))||1,n=Math.floor(e/o(n,1,e))||1;for(var r=new Array(Math.floor(t/i)),l=Math.floor(e/n),a=0;a<r.length;a++){r[a]=[i,[]];for(var s=0;s<l;s++)r[a][1].push(n)}return r}function Pt(t,e,i,n){var o=(new Wi).addClassName(e).insertTo(t);return o.type=n,i&&o.setRole(wi.PANEL),o}function At(t,e){function i(t){t.children.forEach(function(t){t.role===wi.PANEL&&(e.push(t),t.setId(e.length)),t.children.length>0&&i(t)})}i(t)}function Mt(t,e,i,n,o){e=e||"row";var r=t[0],l=t[1],a=null,h="";St(r,null,o,n)&&(h="col"===e?Rt(r,!0):Ct(r,n),a=Pt(i,h,!1,"col"===e?"col":"row",r)),a&&(St(l,null,o,n)?Pt(a,h,!0,e):s(l)?l.forEach(function(t){St(t,null,o,n)?(h="col"===e?Ct(t,n):Rt(t,!0),Pt(a,h,!0,"col"===e?"row":"col",t)):s(t)&&Mt(t,"col"===e?"row":"col",a,n,o)}):l||(h="col"===e?Rt(-1,!0):Ct(-1,n),Pt(a,h,!0,"col"===e?"row":"col",-1)))}function Wt(t,e,i,n){function l(t){t.children.forEach(function(t){t.classNames.split(" ").forEach(function(i){if(i=r(i),h.indexOf(i)>=0){if(i.indexOf("-col-")>=0)return void t.setWidth(e[i]);if(i.indexOf("-row-")>=0)return void t.setHeight(e[i])}}),t.children.length>0&&l(t)})}function a(t){f>0&&!c&&(t.height=f>1?f:t.width*f+u*(1-f)),c>0&&!f&&(t.width=c>1?c:t.height*c+u*(1-c)),f>1&&c>1&&(t.height=f,t.width=c)}function s(t){t.children.forEach(function(e){0!==e.width&&(e.width=Number(t.width*e.width/100)),0!==e.height&&(e.height=d&&1===d.col?t.height:Number(t.height*e.height/100)),0===e.width&&0!==t.width&&(e.width=Number(t.width)),0===e.height&&0!==t.height&&(e.height=Number(t.height)),a(e),e.children.length>0&&s(e)})}if(t&&e&&i){var h=Object.keys(e).join(","),u=i.gutter,d=i.freeLy,f=i.fixedHeight||0,c=i.fixedWidth||0;f>0&&(f=o(f,.01)),c>0&&(c=o(c,.01)),l(t);var p=i.padding,v=p.left+p.right,g=p.top+p.bottom,m=i.width,_=i.height;if((!m||!_)&&n){var y=n.parentNode||n,E=y.clientHeight,w=y.clientWidth,N=ct(y),I=E/N.height>1?E:N.height,b=w/N.width>1?w:N.width;0===m&&(n._origionWidth=m=b),0===_&&(n._origionHeight=_=I)}if(tt(n,{width:m+"px"}),m-=v,_-=g,t.children.forEach(function(t){0!==t.width&&(t.width=m*Number(t.width)/100),0!==t.height&&(t.height=_*Number(t.height)/100),0===t.width&&(t.width=m),0===t.height&&(t.height=_),s(t);var e=t.children[0];e&&(f>0&&(t.height=e.height),c>0&&(t.width=e.width))}),t.setWidth(m).setHeight(_),f>0){f<=1&&(f=t.children[0].height);var x=f*i.layout.length;t.setHeight(x),n._origionHeight=x}if(c>0){c<=1&&(c=t.children[0].width);var O=0;O="row"===i.layoutStartType?i.layout[0][1].length:i.layout.length;var D=c*O;t.setWidth(D),n._origionWidth=D}}}function Ht(t,e,i){function n(t){var e=t.children,i="row"===t.type?t.left:t.top;e.forEach(function(e){"row"===e.type&&"col"===t.type&&(e.left=t.left,e.top=i,i+=e.height),"col"===e.type&&"row"===t.type&&(e.top=t.top,e.left=i,i+=e.width),e.children.length>0&&n(e)})}if(t&&e&&i){var o=0;t.children.forEach(function(t){"row"===t.type&&(t.left=0,t.top=o,o+=t.height),"col"===t.type&&(t.top=0,t.left=o,o+=t.width)}),o=0,i.forEach(function(t){"row"===t.type&&(t.left=0,t.top=o,o+=t.height),"col"===t.type&&(t.top=0,t.left=o,o+=t.width)}),t.children.forEach(function(t){n(t)});var r=e.gutter;i.forEach(function(t){t.setWidth(t.width-r).setHeight(t.height-r).setTop(P(t.top+.5*r,5)).setLeft(P(t.left+.5*r,5)).clearClassName().setRole(wi.PANEL).setStyle({position:"absolute",zIndex:wi.PANEL_DEFAULT_ZINDEX}),t.parentNode=null}),t.children=i,t.children.forEach(function(e){e.parentNode=t}),i=null}}function Gt(t){var e=t.layout,i=t.gutter,n=o(t.rows,wi.MIN_LY_COUNT),r=o(t.cols,wi.MIN_LY_COUNT),l=t.layoutStartType,a=e;if(h(e)&&"whole"===e.toLocaleLowerCase()&&(a=[[n]]),s(e)&&(0===e.length&&(a=[[n]]),a=e.map(function(t){return u(t)&&(t=[t]),t})),f(e)){var d=o(e.height,0),c=o(e.width,0);if(a=kt(n,r,e.rows,e.cols),(d||c)&&(d>1&&c>0&&c<=1&&(c*=d),d>0&&d<=1&&c>1&&(d*=c),c>1&&(c+=i),d>1&&(d+=i),d>0&&d<=1&&c>0&&c<=1))throw new Error(Mi.LY_FIXED_LESS);t.fixedHeight=d,t.fixedWidth=c,t.freeLy={col:e.cols||t.cols,row:e.rows||t.rows,fh:d,fw:c},t.layoutStartType=l="row"}if(a&&!Dt(a,n,r,l))throw new Error(Mi.LY_INVALID);return t.layout=a,!0}function Zt(t,e){if(!t||!e||!t.layout)return!1;var i=t.layout,n=t.cols,o=t.rows,r=t.layoutStartType;return!!Lt(i,n,o)&&(i.forEach(function(t){Mt(t,r,e,o,n)}),!0)}function Ft(t,e,i,n,o){Wt(t,i,n,e),At(t,o),Ht(t,n,o)}function Xt(t){var e=t.gutter,i=void 0===e?0:e,n=t.headHeight,o=void 0===n?0:n,r=t.footHeight,l=void 0===r?0:r,a=t.rightWidth,s=void 0===a?0:a,h=t.leftWidth,u=void 0===h?0:h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i=F(i,d),o=M(o,d),l=M(l,d),s=M(s,d),u=M(u,d),{headHeight:o,footHeight:l,rightWidth:s,leftWidth:u,containerHeight:"calc(100% - "+o+" - "+l+" - "+i.top+" - "+i.bottom+")",centerWidth:"calc(100% - "+s+" - "+u+" - "+i.left+" - "+i.right+")",gutter:i}}function Yt(t,e,i){var n=Xt(e,i),o=n.headHeight,r=n.footHeight,l=n.rightWidth,a=n.leftWidth,s=n.containerHeight,h=n.centerWidth,u=n.gutter,d=null;if("0px"!==o&&"0%"!==o&&(new Wi).setRole(wi.GRID_HEAD).setHeight(o).insertTo(t),"100%"!==o&&"100%"!==r&&(d=(new Wi).setRole(wi.GRID_L_C_R).setHeight(s).setStyle({marginBottom:u.bottom,marginTop:u.top}).insertTo(t)),"0px"!==r&&"0%"!==r&&(new Wi).setRole(wi.GRID_FOOT).setHeight(r).insertTo(t),"0px"!==a&&"0%"!==a){var f=(new Wi).setRole(wi.GRID_LEFT).setWidth(a);d&&f.insertTo(d)}if(d&&(new Wi).setRole(wi.GRID_CENTER).setWidth(h).setStyle({marginLeft:u.left,marginRight:u.right}).insertTo(d),"0px"!==l&&"0%"!==l){var c=(new Wi).setRole(wi.GRID_RIGHT).setWidth(l);d&&c.insertTo(d)}return t}function Ut(t,e,i){if(t&&e&&!t.queryByRole(wi.PANEL_CONTAINER)){Yt((new Wi).setStyle({position:"relative"}).setRole(wi.PANEL_CONTAINER),e,i||1).insertTo(t)}}function jt(t,e){if(t&&e.panel&&e.panel.enable){var i=e.panel.default,n=e.panel.custom,o=[],r=e.fullId,l=e.fullZIndex;n&&s(n)&&n.forEach(function(i){var n=i.panels;if(u(n)&&(n=[n]),s(n)){var a=[];i.panels=n=T(n),n.forEach(function(e){o.push(e);var i=t.getChild(e);i&&a.push(i)}),a.forEach(function(t){var n=i.zIndex;t.getId()===r&&(n=l),Ut(t,i,e.fontScale),t.setStyle({zIndex:n}).update()})}}),t.children.forEach(function(t){if(R(o,t[wi.COMPONENT_ID_KEY])<0){var n=i.zIndex;t.getId()===r&&(n=l),Ut(t,i,e.fontScale),t.setStyle({zIndex:n}).update()}})}}function Bt(t){var e=t.padding,i=e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px";return(new Wi).setRole(wi.PANE).setHeight("auto").setStyle({padding:i}).createElement()}function Kt(){return(new Wi).setRole(wi.CONTAINER).setStyle({position:"relative"})}function Vt(t){return t&&t.createElement()}function qt(t){return t?t.children.map(function(t){return t.getId()}):[]}function $t(t){vi(t)&&[wi.ZOOMPANE,wi.ZOOMCONTAINER].forEach(function(e){if(ut(t,wi.ROLE)===e)return void(t._popo_inner=!0)})}function Jt(t,e,i,n,o){if(!t||!e||!i)return null;var r=e.left,l=e.top,a=e.right,s=e.bottom,h=t.width+r+a,u=t.height+l+s;if(f(i)){var d=I(Ui,i),c=d.position,p=d.size,v=d.id,g=d.zIndex,m=d.layout,_=d.style,y=d.isWidget,E=d.className,w=(new Wi).setRole(wi.PANEL).setHeight(W(p.height||0,u)).setWidth(W(p.width||0,h)).setTop(W(c.top||0,u)-l).setLeft(W(c.left||0,h)-r).setStyle({position:"absolute",zIndex:g});if(v&&(w.id=v),w[wi.COMPONENT_ID_KEY]=t.getNewId(),w.isExtend=!0,w.isWidget=y,y&&E&&w.addClassName(E),w.extendInfo={position:{left:w.left/(c.responsive?h:1),top:w.top/(c.responsive?u:1)},size:{width:w.width/(p.responsive?h:1),height:w.height/(p.responsive?u:1)},zIndex:g},m&&f(m)&&o&&Ut(w,m,n),_&&!y){var N=I(Zi.default,_);ze(w,N.panel,!1,!0);for(var b in _){var x=w.queryByRole(b);x&&N[b]&&ze(x,N[b],!1,!0)}}return t.addNode(w),w}return null}function Qt(t,e,i,n){if(t&&i){var o=e;o&&f(o)&&(o=[o]),o&&s(o)&&o.forEach(function(e){Jt(t,i.padding,e,i.fontScale,n)})}}function te(t,e){if(t&&e){var i=t.children.filter(function(t){return!0===t.isExtend}),n=e.padding,o=n.left,r=n.top,l=n.right,a=n.bottom,s=t.width+o+l,h=t.height+r+a;i.forEach(function(t){if(f(t.extendInfo)){var e=t.extendInfo,i=e.size,n=e.position,o=W(i.width||0,s),r=W(i.height||0,h);t.setHeight(void 0!==t._oldHeight?t.height:r).setWidth(void 0!==t._oldWidth?t.width:o).setTop(W(void 0!==t._oldTop?t.top:n.top||0,h)).setLeft(W(void 0!==t._oldLeft?t.left:n.left||0,s)).update()}})}}function ee(t,e){if(s(t)&&e){var i=t.slice(0),n=i.filter(function(t){return t&&t.name===e});if(1===n.length)return n[0].id||-1;if(n.length>1)return n.map(function(t){return t.id||-1})[0]}return-1}function ie(t,e){if(s(t)&&e){var i=s(t)&&e&&t.slice(0).filter(function(t){return t&&t.id===e})[0];if(f(i))return i.name}return null}function ne(t,e){return isNaN(Number(t))?e&&h(t)?ee(e,t):-1:Number(t)}function oe(t,e,i){if(!t||null===e||void 0===e)return-1;t.children.length;return"all"===e?qt(t):s(e)?e.map(function(t){return t=ne(t,i),t<0?-1:t}):(e=ne(e,i),e<0?-1:e)}function re(t,e){return t?(e=e||wi.GRID_CENTER,R([wi.PANEL,wi.GRID_HEAD,wi.GRID_CENTER,wi.GRID_LEFT,wi.GRID_RIGHT,wi.GRID_L_C_R,wi.PANEL_CONTAINER,wi.GRID_FOOT],e)<0?null:e===wi.PANEL?t:t.queryByRole(e)):null}function le(t){return t?{panel:t,head:re(t,wi.GRID_HEAD),left:re(t,wi.GRID_LEFT),right:re(t,wi.GRID_RIGHT),center:re(t,wi.GRID_CENTER),panelContainer:re(t,wi.PANEL_CONTAINER),lcr:re(t,wi.GRID_L_C_R),foot:re(t,wi.GRID_FOOT)}:null}function ae(t,e,i){if(t){var n=le(t);if(f(n)){var o=n.head,r=n.foot,l=n.left,a=n.right,s=n.center,h=n.lcr,u=n.panelContainer;return{panel:t.realDom,panelContainer:u&&u.realDom,lcr:h&&h.realDom,head:o&&o.realDom,foot:r&&r.realDom,left:l&&l.realDom,center:s&&s.realDom,right:a&&a.realDom,id:e||t.getId(),isExtend:t.isExtend,alias:ie(i.alias,e),size:{width:P(t.width,5),height:P(t.height,5)},position:{top:P(t.top,5),left:P(t.left,5),zIndex:t.styles.zIndex}}}}return null}function se(t,e,i){var n=ne(e,i.alias);return ae(t.getChild(n),n,i)}function he(t,e,i){if(!t||!e||e<=0)return null;var n=t.getChild(e);return n?re(n,i||wi.GRID_CENTER):null}function ue(t){if(u(t))return t+"px";if(h(t)){if(t.indexOf("px")<0||t.indexOf("em")>0)return t;if(!isNaN(Number(t)))return t+"px"}return t}function de(t){if(h(t)){var e=t.indexOf("px");if(e>=0)return Number(t.substring(0,e))}return u(t)?t:0}function fe(t,e){if(t&&vi(t.realDom)&&e&&e.show){lt(wi.PANEL_GUIDELINES,t.realDom);var i=st(t.realDom,"."+wi.GUIDELINES),n=t.width,o=t.height,r=e.zIndex,l=e.size||15,a=e.color,s=e.lineSize,h=new Yi,u=it("div",wi.PANEL_GUIDELINES,{zIndex:r,height:o+"px",width:n+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},t.realDom);vi(i)&&t.realDom.removeChild(i);for(var d=Math.ceil(o/l),f=Math.ceil(n/l),c="",p="",v=1;v<=d;v++){var g=l*v;c+="M0 "+g+" L"+n+" "+g+" "}for(var m=1;m<=f;m++){var _=l*m;c+="M"+_+" 0 L"+_+" "+o+" "}d=Math.ceil(o/l/4),f=Math.ceil(n/l/4);for(var y=1;y<=d;y++){var E=l*y*4;p+="M0 "+E+" L"+n+" "+E+" "}for(var w=1;w<=f;w++){var N=l*w*4;p+="M"+N+" 0 L"+N+" "+o+" "}h.create("path",{d:c,stroke:a,strokeWidth:s}),h.create("path",{d:p,stroke:a,strokeWidth:1.5*s}),u.appendChild(h.createElement())}}function ce(t,e){if(t&&e&&e.dev&&e.dev.enable&&e.dev.panelGuideline.show){var i=e.dev.panelGuideline,n=I({color:"rgba(0,0,0,.25)",width:1,size:10,zIndex:0},i||{}),o=i.ids;"all"===o&&(o=qt(t)),u(o)&&(o=[o]),s(o)&&o.forEach(function(i){if((i=oe(t,i,e.alias))>0){var o=t.getChild(i);o&&o.realDom&&fe(o,n)}})}}function pe(t,e,i,n,o,r){if(r=ue(r),t&&t.realDom){var l=Math.round(t.width),a=Math.round(t.height),s=Math.round(t.left),h=Math.round(t.top);if(e||i||n){var u="";return i&&(u+=t[wi.COMPONENT_ID_KEY]),e&&(u+=(i?" - ":"")+" W"+l+" H"+a),n&&(u+=(i||e?" - ":"")+" L"+s+" T"+h),new Wi("span").addClassName(wi.INFO).setTop(t.top+5).setLeft(t.left+5).setWidth("auto").setHeight("auto").setStyle({color:o,fontSize:r}).setHtml(u)}}return null}function ve(t,e){if(t&&e&&e.enable&&e.panel.show){var i=e.panel,n=i.id,o=i.size,r=i.position,l=i.background,a=ue(i.fontSize),s=i.fontColor;if(t.realDom&&(n||o||r||l))for(var u=0,d=t.children.length;u<d;u++)if(t.children[u].realDom&&l&&h(l)&&et(t.children[u].realDom,{background:l}),!t.children[u].isWidget){var f=pe(t.children[u],o,n,r,s,a);f&&t.realDom.appendChild(f.createElement())}}}function ge(t,e,i,n,o,r){t&&t.create("text",{x:i,y:n,fontSize:o,fill:r}).setHtml(e)}function me(t,e,i){if(t&&e&&i&&i.dev.guideline.show){lt(wi.GUIDELINES,t);var n=i.dev.guideline,o=i.padding,r=e.width+o.left+o.right,l=e.height+o.top+o.bottom,a=n.identifier,s=n.fontSize,h=n.fontColor,u=n.zIndex,d=i.rows,f=i.cols,c=(100/d).toFixed(5)*l/100,p=(100/f).toFixed(5)*r/100,v=new Yi,g=it("div",wi.GUIDELINES,{zIndex:u,height:l+"px",width:r+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},t),m=t.style.position;""!==m&&"static"!==m||et(t,{position:"relative"});for(var _="",y=0;y<=d;y++){var E=c*y;_+="M0 "+E+" L"+r+" "+E+" ",a&&ge(v,y,5,E-c+de(s)+5,s,h)}for(var w=0;w<=f;w++){var N=p*w;_+="M"+N+" 0 L"+N+" "+l+" ",a&&1!==w&&ge(v,w,N-p+5,de(s)+5,s,h)}v.create("path",{d:_,stroke:n.color,strokeWidth:n.lineSize}),g.appendChild(v.createElement())}}function _e(t,e,i){if(t&&e&&i&&i.dev.splitline.show){lt(wi.SPLITLINES,t);var n=i.dev.splitline,o=ue(n.fontSize),r=n.fontColor,l=i.padding,a=n.identifier,s=e.width+l.left+l.right,h=e.height+l.top+l.bottom,u=n.height,d=n.width,f=n.zIndex,c=Math.ceil(h/u),p=Math.ceil(s/d),v=it("div",wi.SPLITLINES,{zIndex:f,height:h+"px",width:s+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},t),g=new Yi,m=t.style.position,_=[],y=[];""!==m&&"static"!==m||et(t,{position:"relative"});for(var E="",w=0;w<=c;w++){var N=u*w;E+="M0 "+N+" L"+s+" "+N+" ",_.push(N)}for(var I=0;I<=p;I++){var b=d*I;E+="M"+b+" 0 L"+b+" "+h+" ",y.push(b)}a&&y.forEach(function(t){_.forEach(function(e){ge(g,t+", "+e,t+10,e+10+de(o),o,r)})}),g.create("path",{d:E,stroke:n.color,strokeWidth:n.lineSize}),v.appendChild(g.createElement())}}function ye(t,e,i){return!!(e&&t&&i&&i.dev&&i.dev.enable)&&(lt(wi.INFO,t),ve(e,i.dev),me(t,e,i),_e(t,e,i),ce(e,i),!0)}function Ee(t,e,i,n){if(t&&e){var o=n?i.hideType:i.hideType||"panel";u(t)&&(t=[t]),s(t)&&t.forEach(function(t){var n=he(e,oe(e,t,i.alias),o);n&&(n.realDom?et(n.realDom,{display:"none"}):n.setStyle({display:"none"}))})}}function we(t,e){if(!t||!e||q(t,wi.ZOOMCONTAINER))return null;var i=e.zoom,n=(new Wi).setRole(wi.ZOOMCONTAINER),o=(new Wi).setRole(wi.ZOOMPANE).addNode(n).createElement();if(t.appendChild(o),i.enable&&i.control){var r=(new Wi).addClassName(wi.EXT_PANE).setRole(wi.EXT_PANE).setWidth(34).setHeight(94).setHtml("\n            <a class='"+wi.ZOOMIN+"' href='javascript:;' title='Zoom in'>+</a>\n            <span class='"+wi.ZOOMINFO+"' title='Current Scale'></span>\n            <a class='"+wi.ZOOMOUT+"' href='javascript:;' title='Zoom out'>-</a>").createElement(),l="10px";switch(i.position){case"leftTop":et(r,{top:l,left:l});break;case"leftBottom":et(r,{bottom:l,left:l});break;case"rightBottom":et(r,{bottom:l,right:l});break;default:et(r,{right:l,top:l})}t.appendChild(r)}return n.realDom}function Ne(t){return t&&t._popo_inner}function Ie(t,e,n,o){t&&(n&&"all"!==n||(n=qt(t)),u(n)&&(n=[n]),s(n)&&n.length>0&&n.forEach(function(n){var r=t.getChild(n);r&&(o&&(e=i(e,o)),e(le(r)))}))}function be(t,e){var i=t||[];if(u(i)&&(i=[i]),i.length>0){var n=!1;if(i.forEach(function(t){var i=R(e,t);i>=0&&(e.splice(i,1),n=!0)}),n)return e}return null}function xe(t,e,n,o,r){t&&e&&d(n)&&("all"===o&&(o=qt(t)),u(o)&&(o=[o]),s(o)&&o.length>0&&o.forEach(function(o){if((o=ne(o,e.alias))>0){var l=t.getChild(o);if(l&&vi(l.realDom)){var a=ae(l,o,e);if(r&&(n=i(n,r)),!1===n(a))return}}}))}function Oe(t,e,i){if(e>0&&t){var n=t.getChild(e);if(n)return n.oldSize={zIndex:n.styles.zIndex,width:n.width,height:n.height,top:n.top,left:n.left},n.setWidth(t.width).setHeight(t.height).setTop(0).setLeft(0).setStyle({zIndex:i}).update(),!0}return!1}function De(t,e){if(u(e)&&e>0){var i=t.getChild(e);if(i&&i.oldSize&&i.realDom)return i.setStyle({zIndex:i.oldSize.zIndex||1}),i.width=i.oldSize.width,i.height=i.oldSize.height,i.top=i.oldSize.top,i.left=i.oldSize.left,i.update(),i.oldSize=null,!0}return!1}function Te(t,e){if(t&&e){var i="",n=null;if(h(e)&&(i=e),f(e)&&!c(e)&&(e.classname&&h(e.classname)&&(i=e.classname),f(e.css)&&!c(e.css)&&(n=N(e.css)),e.classname||e.css||(n=N(e))),i&&(vi(t)?Q(t,i):(t.removeClassName(i),t.realDom&&Q(t.realDom,i))),n){for(var o in n)n[o]="";vi(t)?et(t,n):(t.setStyle(n),t.realDom&&et(t.realDom,n))}!vi(t)&&t.update&&t.update()}}function Se(t,e,i,n){if(f(n)){var o=n.container,r=n.custom,l=n.default;o&&Te(t,o),f(l)&&e.children.forEach(function(t){for(var e in l){var i=le(t)[e];i&&Te(i,l[e])}}),(s(r)?r:[r]).forEach(function(t){f(t)&&t.panels&&Ie(e,function(e){for(var i in t)t[i]&&e[i]&&Te(e[i],t[i])},oe(e,t.panels,i.alias))}),e.update()}}function ze(t,e,i,n){if(t&&e){var o="",r=null;h(e)&&(o=e),f(e)&&!c(e)&&(e.classname&&h(e.classname)&&(o=e.classname),f(e.css)&&!c(e.css)&&(r=e.css),e.classname||e.css||(r=e)),o&&(vi(t)?i&&(n?$(t,o):J(t,o)):(n?t.setClassName(o):t.addClassName(o),i&&t.realDom&&(n?$(t.realDom,o):J(t.realDom,o)))),r&&(vi(t)?i&&et(t,r):(t.setStyle(r),i&&t.realDom&&et(t.realDom,r))),!vi(t)&&t.update&&t.update()}}function Le(t,e,i,n,o,r,l,a){if(e&&o){var h=l||{},u=h.custom,d=h.inner,c=h.zoomContainer,p=h.zoomPane,v=h.pane,g=h.container,m=h.default;g&&a&&ze(t,g,!0),d&&ze(e,d),c&&ze(i,c,!0),p&&ze(n,p,!0),v&&ze(r,v,!0),f(m)&&e.children.forEach(function(t){if(!t.isWidget)for(var e in m)ze(le(t)[e],m[e],!0)}),u&&(s(u)?u:[u]).forEach(function(t){f(t)&&t.panels&&Ie(e,function(e){for(var i in t)t[i]&&e[i]&&!e[i].isExtend&&ze(e[i],t[i],!0,!0)},oe(e,t.panels,o.alias))})}}function Ce(t,e,i,n,o){return void 0!==t?null!==e?e*o:i:n}function Re(t,e,i,n,o){if((void 0!==e.width||null!==e.width)&&!t.isExtend){var r=t._oldWidth,l=t._oldHeight,a=t._oldTop,s=t._oldLeft,h=t.width,u=t.height,d=t.top,f=t.left,c=t.percentWidth,p=t.percentHeight,v=t.percentLeft,g=t.percentTop;t.setHeight(Ce(l,p,u,e.height,i.height)).setWidth(Ce(r,c,h,e.width,i.width)).setTop(Ce(a,g,d,e.top,i.height)).setLeft(Ce(s,v,f,e.left,i.width))}e.oldSize&&(t.oldSize=e.oldSize,t.setStyle({zIndex:e.styles.zIndex||wi.PANEL_DEFAULT_ZINDEX})),n>0&&t.getId()===n&&t.setLeft(0).setTop(0).setStyle({zIndex:o})}function ke(t,e,i,n,o,r){Re(t,e,i,o,r),t.children.forEach(function(n){e.children.forEach(function(e){n.getId()===e.getId()&&t.getRole()!==wi.PANEL&&Re(n,e,i,o,r)})})}function Pe(t,e,i){t&&e&&i&&(u(e)&&(e=[e]),s(e)&&e.forEach(function(e){var n=he(t,e,"wrap"),o=null;n&&("auto"!==i&&"visible"!==i||(o={overflow:i}),"overflowX"!==i&&"overflowY"!==i||(o[i]="auto"),n.setStyle(o).update())}))}function Ae(t,e){if(t&&e&&e.panelOverflow){var i=e.panelOverflow;if(i)for(var n in i)"all"===i[n]&&(i[n]=qt(t)),(u(i[n])||s(i[n]))&&Pe(t,i[n],n)}}function Me(t,e){var i=e.padding,n=i.left,o=i.right,r=i.bottom,l=i.top;return{width:t.width+n+o,height:t.height+l+r}}function We(t,e,i,n,o,r){if(t&&vi(e)&&i&&n){var l=Kt(),a=[],s=[];Zt(n,l),Ft(l,e,i,n,a,s),Qt(l,n,!1),o&&Oe(l,o,r||0),ke(t,l,Me(l,n),n,o,r),te(t,n),t.update(),n.dev.enable&&ye(e,t,n),Ge(t,n.lineHeight)}}function He(t){if(t&&t.realDom){var e=t.realDom,i=ft(e,"height")||e.clientHeight,n=ft(e,"padding-top"),o=ft(e,"padding-bottom"),r=ft(e,"border-top-width"),l=ft(e,"border-bottom-width");t.setStyle({lineHeight:i-n-o-r-l+"px"}).update()}}function Ge(t,e){if(t&&e){var i=f(e)?[e]:e;s(i)&&i.forEach(function(e){var i=e.panels,n=e.type||"head";u(i)&&(i=[i]),h(i)&&"all"===i&&(i=qt(t)),s(i)&&Ie(t,function(t){(s(n)?n:[n]).forEach(function(e){h(e)&&t&&("all"===e?["head","center","right","foot","left"].forEach(function(e){He(t[e])}):He(t[e]))})},i)})}}function Ze(t,e,i){vi(t)&&ut(t,wi.TARGET)===i&&e&&e.realDom&&e.realDom.appendChild(t)}function Fe(t,e,i){if(vi(t)&&e&&vi(e.realDom)&&i){var n=i.env;ht(t,function(t){if(vi(t)&&t.hasAttribute(wi.POPO)){var o=oe(e,t.getAttribute(wi.POPO),i.alias),r=he(e,o,"panel"),l=t.getAttribute("title"),a=t.getAttribute("class");if(r&&r.realDom){var s=le(r);J(r.realDom,a);for(var h=t.childNodes,u=0,d=h.length;u<d;u++){var f=h["vue"===n?0:u],c=ut(f,wi.TARGET);c&&s[c]&&Ze(f,s[c],c)}!st(t,"["+wi.TARGET+"=head]")&&l&&s.head&&s.head.realDom&&!s.head.realDom.hasChildNodes()&&(s.head.realDom.innerHTML=l)}}})}}function Xe(t,e,i,n){t&&vi(t.realDom)&&vi(e)&&i&&n&&ht(e,function(e){if(vi(e)&&e.hasAttribute(wi.POPO)){var o=oe(i,e.getAttribute(wi.POPO),n.alias);if(t.getId()===o){var r=le(t);for(var l in r)if(r[l]&&r[l].realDom){var a=r[l].realDom.firstChild;vi(a)&&l===a.getAttribute(wi.TARGET)&&e.appendChild(a)}return!1}}return!0})}function Ye(t,e,i){vi(t)&&e&&vi(e.realDom)&&i&&ht(t,function(t){if(vi(t)&&t.hasAttribute(wi.POPO)){var n=oe(e,t.getAttribute(wi.POPO),i.alias),o=he(e,n,"panel");if(o&&o.realDom){var r=le(o);for(var l in r)if(r[l]&&r[l].realDom){var a=r[l].realDom.firstChild;vi(a)&&l===a.getAttribute(wi.TPL)&&(a.removeAttribute(wi.TPL),J(a,l),t.appendChild(a))}}}})}function Ue(t,e,i){var n=t.zoom.enable?e.parentNode.parentNode:e.parentNode;return i&&vi(n)&&(n.scrollLeft=0,n.scrollTop=0),n}function je(t,e,i,n,o,r){if(t&&e&&i&&!(!n<0)){
var l=he(t,ne(n,i.alias),"panel");if(l){var a=Ue(i,e,!0),s=i.zoom.enable?i.zoom.scale:1;a&&vi(a)&&(a.scrollLeft=(l.left+o)*s,a.scrollTop=(l.top+r)*s)}}}function Be(t,e,i){if(t&&e&&i){var n=ct(e.parentNode.parentNode),o=e._origionWidth||t.width,r=e._origionHeight||t.height,l=(n.height-r*i)/2,a=(n.width-o*i)/2;(l<0||1===i)&&(l=0),(a<0||1===i)&&(a=0),et(e.parentNode,{paddingTop:l+"px",paddingLeft:a+"px"})}}function Ke(t,e){var i=e?"":"none";ht(t,function(t){vi(t)&&t.getAttribute(wi.POPO)&&et(t,{display:i})})}function Ve(t){if(u(t))return t+"px";if(h(t)){if(t.indexOf("px")<0||t.indexOf("em")>0)return t;if(!isNaN(Number(t)))return t+"px"}return t}function qe(t){if(h(t)){var e=t.indexOf("px");if(e>=0)return Number(t.substring(0,e))}return u(t)?t:0}function $e(t,e){if(t&&vi(t.realDom)&&e&&e.show){lt(wi.PANEL_GUIDELINES,t.realDom);var i=st(t.realDom,"."+wi.GUIDELINES),n=t.width,o=t.height,r=e.zIndex,l=e.size||15,a=e.color,s=e.lineSize,h=new Yi,u=it("div",wi.PANEL_GUIDELINES,{zIndex:r,height:o+"px",width:n+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},t.realDom);vi(i)&&t.realDom.removeChild(i);for(var d=Math.ceil(o/l),f=Math.ceil(n/l),c="",p="",v=1;v<=d;v++){var g=l*v;c+="M0 "+g+" L"+n+" "+g+" "}for(var m=1;m<=f;m++){var _=l*m;c+="M"+_+" 0 L"+_+" "+o+" "}d=Math.ceil(o/l/4),f=Math.ceil(n/l/4);for(var y=1;y<=d;y++){var E=l*y*4;p+="M0 "+E+" L"+n+" "+E+" "}for(var w=1;w<=f;w++){var N=l*w*4;p+="M"+N+" 0 L"+N+" "+o+" "}h.create("path",{d:c,stroke:a,strokeWidth:s}),h.create("path",{d:p,stroke:a,strokeWidth:1.5*s}),u.appendChild(h.createElement())}}function Je(t,e){if(t&&e&&e.dev&&e.dev.enable&&e.dev.panelGuideline.show){var i=e.dev.panelGuideline,n=I({color:"rgba(0,0,0,.25)",width:1,size:10,zIndex:0},i||{}),o=i.ids;"all"===o&&(o=qt(t)),u(o)&&(o=[o]),s(o)&&o.forEach(function(i){if((i=oe(t,i,e.alias))>0){var o=t.getChild(i);o&&o.realDom&&$e(o,n)}})}}function Qe(t,e,i,n,o,r){if(r=Ve(r),t&&t.realDom){var l=Math.round(t.width),a=Math.round(t.height),s=Math.round(t.left),h=Math.round(t.top);if(e||i||n){var u="";return i&&(u+=t[wi.COMPONENT_ID_KEY]),e&&(u+=(i?" - ":"")+" W"+l+" H"+a),n&&(u+=(i||e?" - ":"")+" L"+s+" T"+h),new Wi("span").addClassName(wi.INFO).setTop(t.top+5).setLeft(t.left+5).setWidth("auto").setHeight("auto").setStyle({color:o,fontSize:r}).setHtml(u)}}return null}function ti(t,e){if(t&&e&&e.enable&&e.panel.show){var i=e.panel,n=i.id,o=i.size,r=i.position,l=i.background,a=Ve(i.fontSize),s=i.fontColor;if(t.realDom&&(n||o||r||l))for(var u=0,d=t.children.length;u<d;u++)if(t.children[u].realDom&&l&&h(l)&&et(t.children[u].realDom,{background:l}),!t.children[u].isWidget){var f=Qe(t.children[u],o,n,r,s,a);f&&t.realDom.appendChild(f.createElement())}}}function ei(t,e,i,n,o,r){t&&t.create("text",{x:i,y:n,fontSize:o,fill:r}).setHtml(e)}function ii(t,e,i){if(t&&e&&i&&i.dev.guideline.show){lt(wi.GUIDELINES,t);var n=i.dev.guideline,o=i.padding,r=e.width+o.left+o.right,l=e.height+o.top+o.bottom,a=n.identifier,s=n.fontSize,h=n.fontColor,u=n.zIndex,d=i.rows,f=i.cols,c=(100/d).toFixed(5)*l/100,p=(100/f).toFixed(5)*r/100,v=new Yi,g=it("div",wi.GUIDELINES,{zIndex:u,height:l+"px",width:r+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},t),m=t.style.position;""!==m&&"static"!==m||et(t,{position:"relative"});for(var _="",y=0;y<=d;y++){var E=c*y;_+="M0 "+E+" L"+r+" "+E+" ",a&&ei(v,y,5,E-c+qe(s)+5,s,h)}for(var w=0;w<=f;w++){var N=p*w;_+="M"+N+" 0 L"+N+" "+l+" ",a&&1!==w&&ei(v,w,N-p+5,qe(s)+5,s,h)}v.create("path",{d:_,stroke:n.color,strokeWidth:n.lineSize}),g.appendChild(v.createElement())}}function ni(t,e,i){if(t&&e&&i&&i.dev.splitline.show){lt(wi.SPLITLINES,t);var n=i.dev.splitline,o=Ve(n.fontSize),r=n.fontColor,l=i.padding,a=n.identifier,s=e.width+l.left+l.right,h=e.height+l.top+l.bottom,u=n.height,d=n.width,f=n.zIndex,c=Math.ceil(h/u),p=Math.ceil(s/d),v=it("div",wi.SPLITLINES,{zIndex:f,height:h+"px",width:s+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},t),g=new Yi,m=t.style.position,_=[],y=[];""!==m&&"static"!==m||et(t,{position:"relative"});for(var E="",w=0;w<=c;w++){var N=u*w;E+="M0 "+N+" L"+s+" "+N+" ",_.push(N)}for(var I=0;I<=p;I++){var b=d*I;E+="M"+b+" 0 L"+b+" "+h+" ",y.push(b)}a&&y.forEach(function(t){_.forEach(function(e){ei(g,t+", "+e,t+10,e+10+qe(o),o,r)})}),g.create("path",{d:E,stroke:n.color,strokeWidth:n.lineSize}),v.appendChild(g.createElement())}}function oi(t,e,i){return!!(e&&t&&i&&i.dev&&i.dev.enable)&&(lt(wi.INFO,t),ti(e,i.dev),ii(t,e,i),ni(t,e,i),Je(e,i),!0)}function ri(t){var e=t.container,i=null;if(e){var n=y(e);if(!vi(n))throw new Error(Mi.CONTAINER_ERR);if(m(qi,"container",n))throw new Error(Mi.POPO_EXSIT)}return i=new Vi(t),qi.push(i),i}function li(t){var e=y(t);return vi(e)?m(qi,"container",e):null}function ai(t){if(t){if(t instanceof Vi){var e=R(qi,t);e>=0&&(qi.splice(e,1),t.remove())}if(t&&(h(t)||vi(t))){var i=y(t);if(vi(i)){var n=_(qi,"container",i);n&&n[0]&&n[0].remove&&n[0].remove()}}}}function si(){return window&&hn&&(window.P=hn),this}var hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},di=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),fi=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},ci=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},pi=0,vi="object"===("undefined"==typeof HTMLElement?"undefined":hi(HTMLElement))?E:w,gi=function(t,e,i){return t[e]=t.splice(i,1,t[e])[0],t},mi=function(t,e){t.length<2||t.unshift(t.splice(e,1)[0])},_i=function(t,e){t.length<2||t.push(t.splice(e,1)[0])},yi=Object.freeze({stamp:e,bind:i,extend:n,legalNumber:o,trim:r,splitWords:l,isArray:s,isString:h,isNumber:u,isFunction:d,isObject:f,isEmptyObject:c,validateNumber:p,mixin:v,mixins:g,getObjectFromArray:m,removeObjectFromArray:_,get:y,isDOM:vi,cloneJsonObject:N,merge:I,getPercentage:b,capitalize:x,reverseCamelcase:O,camelize:D,unique:T,firstUpperCase:S,isPercentage:z,translatePercentage:L,translateNumberToPercentage:C,contain:R,throttle:k,formatNum:P,formatNumber:A,getCssSize:M,multiplyBy:W,getPureValue:H,formatMargin:G,formatMargin2:F,distinct:X,NullFn:Y,guid:U,stampUUID:j,swapArrItems:gi,moveToFirst:mi,moveToLast:_i,insertToArr:B}),Ei="popo",wi={MIN_LY_COUNT:1,COLS:24,ROWS:12,PANEL_DEFAULT_ZINDEX:1,NAME:Ei,POPO:"data-"+Ei,ROLE:"data-popo-role",TARGET:"data-popo-target",COMPONENT_ID_KEY:"data-popo-id",EXT_PANE:Ei+"-ext-pane",PANE:"pane",CONTAINER:"container",PANEL:"panel",PANEL_CONTAINER:"panel-container",WRAP:"wrap",GRID_L_C_R:"lcr",GRID_HEAD:"head",GRID_CENTER:"center",GRID_LEFT:"left",GRID_RIGHT:"right",GRID_FOOT:"foot",SINGLE_ROW:Ei+"-s-row",ROW:Ei+"-row",COL:Ei+"-col",INFO:Ei+"-dev-info",GUIDELINES:Ei+"-guideline",PANEL_GUIDELINES:Ei+"-panel-guideline",SPLITLINES:Ei+"-splitline",ZOOMPANE:"zoom-pane",ZOOMCONTAINER:"zoom-container",ATTRIBUTTION:Ei+"-attribution",ZOOMIN:Ei+"-ct-zoom-in",ZOOMOUT:Ei+"-ct-zoom-out",ZOOMINFO:Ei+"-ct-zoom-info",TPL:"data-popo-tpl",DRAW_ID_KEY:Ei+"-ts",LINE:"l",PATH:"p",CIRCLE:"c",FILTER:"f",MARKER:"m",LINER_GRADIENT:"lg",RADIAL_GRADIENT:"rg",BORDER:"b",EVENT:"_popo_event"},Ni=K(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Ii=K(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bi="webkitTransition"===Ii||"OTransition"===Ii?Ii+"End":"transitionend";vt();var xi=Object.freeze({testProp:K,TRANSFORM:Ni,TRANSITION:Ii,TRANSITION_END:bi,getClass:V,hasClass:q,setClass:$,addClass:J,removeClass:Q,setStyle:tt,css:et,create:it,html:nt,isHidden:ot,removeByClass:lt,removeByRole:at,query:st,eachChild:ht,attr:ut,getStyle:dt,getPureStyle:ft,getRect:ct,getTargetDataId:pt,createPublicStyle:vt}),Oi=navigator.userAgent.toLowerCase(),Di=document.documentElement,Ti=window.innerWidth||Di.clientWidth||document.body.clientWidth,Si=window.innerHeight||Di.clientHeight||document.body.clientHeight,zi="ActiveXObject"in window,Li=-1!==Oi.indexOf("webkit"),Ci="undefined"!=typeof orientation||-1!==Oi.indexOf("mobile"),Ri={ie:zi,width:Ti,height:Si,aspectRatio:Ti/Si,webkit:Li,mobile:Ci},ki=wi.EVENT,Pi=Ri.win&&Ri.chrome?2*window.devicePixelRatio:Ri.gecko?window.devicePixelRatio:1,Ai=Object.freeze({stopPropagation:_t,preventDefault:yt,stop:Et,on:wt,off:Nt,getWheelDelta:It}),Mi={POPO_EXSIT:"The target container has been initialized by popo.",CONTAINER_ERR:"The target container was not found",LY_INVALID:"Layout array is invalid.",LY_FIXED_LESS:"Fixed height and fixed width shall not be less than 1 at the same time."},Wi=function(){function t(i){ui(this,t),this.nodeName=i||"div",this.width=0,this.height=0,this.classNames="",this.children=[],this.styles={},this.parentNode=null,this.html="",this.role="",this.isExtend=!1,e(this)}return di(t,[{key:"addClassName",value:function(t){var e=this;if(h(t)){if(""===this.classNames)return this.classNames=t,this;var i=l(this.classNames);l(t).forEach(function(t){R(i,t)<0&&(e.classNames+=" "+t)})}return this}},{key:"removeClassName",value:function(t){if(h(t)){var e=l(this.classNames),i=R(e,t);i>=0&&(e[i]="",this.classNames=e.join(" "))}return this}},{key:"clearClassName",value:function(){return this.classNames="",this}},{key:"setClassName",value:function(t){return t&&h(t)&&(this.classNames=t),this}},{key:"getChild",value:function(t){return u(t)||(t=Number(t)),!isNaN(t)&&t>0?m(this.children,wi.COMPONENT_ID_KEY,t):null}},{key:"setRole",value:function(t){return this.role=t,this}},{key:"getRole",value:function(){return this.role}},{key:"queryByRole",value:function(t){function e(n){return n&&n.children.length>0&&n.children.forEach(function(n){if(n.role===t)return void(i=n);e(n)}),i}var i=null;return e(this)}},{key:"setId",value:function(t){return this[wi.COMPONENT_ID_KEY]=t,this}},{key:"getId",value:function(){return this[wi.COMPONENT_ID_KEY]}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"setMargin",value:function(t){return this.margin=t,this}},{key:"getMargin",value:function(){return this.margin}},{key:"_getSize",value:function(t){return u(t)?P(t,5)+"px":t}},{key:"setStyle",value:function(t){return v(this.styles,t),this}},{key:"setTop",value:function(t){return this.top=t,this}},{key:"getTop",value:function(){return this.top}},{key:"setLeft",value:function(t){return this.left=t,this}},{key:"getLeft",value:function(){return this.left}},{key:"insertTo",value:function(t){return t&&t.children&&(t.children.push(this),this.parentNode=t),this}},{key:"addNode",value:function(t){return t&&(this.children.push(t),t.parentNode=this),this}},{key:"removeNode",value:function(t){f(t)&&t&&t._popo_id&&this.children.length>0&&_(this.children,"_popo_id",t._popo_id)}},{key:"clear",value:function(){this.children&&this.children.length>0&&(this.children.forEach(function(t){t.remove()}),this.children=[])}},{key:"remove",value:function(){var t=this;this.parentNode&&this.parentNode.removeNode(t),vi(this.realDom)&&(this.realDom.parentNode.removeChild(this.realDom),this.realDom=null),this.width=0,this.height=0,this.top=0,this.left=0,this.classNames="",this.styles={},this.children&&this.children.length>0&&(this.children.forEach(function(t){t.remove()}),this.children=[]),this.parentNode=null}},{key:"render",value:function(t){if(!t)return t;var e=ut(t,"class"),i=e?T(l(e).concat(l(this.classNames))).join(" "):this.classNames;i&&ut(t,"class",i);var n=this.width,o=this.height;return this.setStyle({width:n?this._getSize(n):"100%",height:o?this._getSize(o):"100%"}),void 0!==this.top&&this.setStyle({top:this._getSize(this.top)}),void 0!==this.left&&this.setStyle({left:this._getSize(this.left)}),void 0!==this.margin&&this.setStyle({margin:this._getSize(this.margin)}),c(this.styles)||et(t,this.styles),this[wi.COMPONENT_ID_KEY]&&ut(t,wi.COMPONENT_ID_KEY,this[wi.COMPONENT_ID_KEY]),this.role&&ut(t,"data-popo-role",this.role),this.id&&(t.id=this.id),this.html&&(t.innerHTML=this.html),t}},{key:"setHtml",value:function(t){return t&&h(t)&&(this.html=t),this}},{key:"update",value:function(){var t=this.realDom;t&&(this.render(t),this.children.forEach(function(t){t.update()}))}},{key:"createElement",value:function(){var t=this.realDom||document.createElement(this.nodeName);return t._popo_id=this._popo_id,this.render(t),this.children.forEach(function(e){t.appendChild(e.createElement())}),this.realDom=t,t.vnode=this,t}},{key:"getLastChild",value:function(){var t=this.children,e=t.length;return e>0?t[e-1]:t[0]}},{key:"getNewId",value:function(){var t=this.getLastChild();return t?t.getId()+1:1}}]),t}(),Hi={container:"",rows:wi.ROWS,cols:wi.COLS,width:0,height:0,gutter:10,layout:null,layoutStartType:"row",fontScale:1,rem:1,fullId:0,fullZIndex:0,scroll:{x:!1,y:!1},drag:!1,panel:{enable:!1,default:{headHeight:0,footHeight:0,leftWidth:0,rightWidth:0,gutter:0,zIndex:wi.PANEL_DEFAULT_ZINDEX},custom:[]},overflowVisible:!1,panelOverflow:{visible:"",overflowX:"",overflowY:""},dev:{enable:!1,panel:{show:!0,id:!0,size:!1,position:!1,background:"",fontSize:14,fontColor:"#333"},guideline:{show:!1,identifier:!0,lineSize:1,color:"rgba(0,0,0,.25)",zIndex:0,fontSize:14,fontColor:"#333"},panelGuideline:{show:!1,ids:"all",lineSize:.5,size:15,zIndex:0,color:"#888"},splitline:{show:!1,lineSize:1,width:100,height:100,color:"#000",zIndex:0,identifier:!0,fontColor:"#333333",fontSize:12},showIds:0},zoom:{enable:!1,control:!0,auto:!0,scale:0,ratio:.1,min:.1,max:1,position:"rightTop",wheelZoom:!0},focus:{id:0,offsetX:0,offsetY:0},lineHeight:null,hideIds:null,hideType:"panel",trackResize:!0,updateInterval:200,renderDelay:0,style:null,extends:[],onload:null,update:null,alias:null,env:"js"},Gi=wi.NAME+"-",Zi={container:Gi+wi.WRAP,inner:Gi+wi.CONTAINER,zoomContainer:Gi+wi.ZOOMCONTAINER,zoomPane:Gi+wi.ZOOMPANE,pane:Gi+wi.PANE,default:{panel:Gi+wi.PANEL,panelContainer:Gi+wi.PANEL_CONTAINER,head:Gi+wi.GRID_HEAD,foot:Gi+wi.GRID_FOOT,center:Gi+wi.GRID_CENTER,right:Gi+wi.GRID_RIGHT,left:Gi+wi.GRID_LEFT,lcr:Gi+wi.GRID_L_C_R},custom:null},Fi=["baseFrequency","stdDeviation","viewBox","numOctaves","tableValues","markerWidth","markerHeight","refX","refY","patternUnits","patternTransform"].join(" "),Xi=function(){function t(e,i){ui(this,t),this.nodeName=e||"svg",this.attrs={},this.children=[],this.parentNode=null,this.realNode=null,this._stamp(),this.id=this._popo_id,this.styles={},this.style="",this.html="",i&&this.insertTo(i)}return di(t,[{key:"_stamp",value:function(){var t="";switch(this.nodeName){case"filter":t=wi.FILTER;break;case"linearGradient":t=wi.LINER_GRADIENT;break;case"radialGradient":t=wi.RADIAL_GRADIENT;break;case"marker":t=wi.MARKER}e(this,t)}},{key:"_setId",value:function(){return this.attr({id:this.getId()}),this}},{key:"getId",value:function(){return this.attr("id")||wi.DRAW_ID_KEY+"-"+this._popo_id}},{key:"setStyle",value:function(t){for(var e in t)this.styles[e]=t[e];return this}},{key:"attr",value:function(e,i){if(!e)return this;if(h(e))return void 0!==i&&null!==i?(Fi.indexOf(e)<0&&(e=O(e)),this.attrs[e]=i,this):this.attrs[e];if(f(e))for(var n in e)if(f(e[n])&&e[n]instanceof t){var o=n;Fi.indexOf(n)<0&&(o=O(n)),this.attrs[o]="url(#"+e[n].getId()+")"}else if(Fi.indexOf(n)<0){var r=O(n);this.attrs[r]="id"===r?wi.DRAW_ID_KEY+"-"+e[n]:e[n]}else this.attrs[n]=e[n];return this}},{key:"_filter",value:function(e,i){i=i||this;for(var n=0,o=e.length;n<o;n++){var r=e[n];for(var l in r){var a=new t(l,i),h={};if(s(r[l]))this._filter(r[l],a);else{for(var u in r[l])f(r[l][u])?new t(u,a).attr(r[l][u]):h[u]=r[l][u];a.attr(h)}}}return this}},{key:"_stops",value:function(e){for(var i=0;i<e.length;i++)new t("stop",this).attr({offset:b(e[i][0])+"%",stopColor:e[i][1]||"#333",stopOpacity:e[i][2]||1});return this}},{key:"insertTo",value:function(t){return t&&t.children&&(t.children.push(this),this.parentNode=t),this}},{key:"create",value:function(e,i){return new t(e,this).attr(i)}},{key:"add",value:function(t){return t&&(this.children.push(t),t.parentNode=this),this}},{key:"remove",value:function(t){return t&&t._popo_id&&this.children.length>0?_(this.children,"_popo_id",t._popo_id):this}},{key:"render",value:function(e){if(!c(this.styles)){var i="";for(var n in this.styles)f(this.styles[n])&&this.styles[n]instanceof t?i+=n+":url(#"+this.styles[n].getId()+");":i+=n+":"+this.styles[n]+";";i&&this.attr({style:i})}var o=this.attrs;for(var r in o)r.indexOf("xlink")>=0?e.setAttributeNS("http://www.w3.org/1999/xlink",r,o[r]):e.setAttribute(r,o[r]);"style"!==this.nodeName&&"text"!==this.nodeName||(e.innerHTML=this.html)}},{key:"setHtml",value:function(t){return t&&(this.html=t),this}},{key:"createElement",value:function(t){t&&this.attr({width:"0%",height:"0%"});var e=document.createElementNS("http://www.w3.org/2000/svg",this.nodeName);return this.render(e),this.children&&this.children.length>0&&this.children.forEach(function(t){"defs"===t.nodeName&&0===t.children.length||"style"===t.nodeName&&""===t.html||e.appendChild(t.createElement())}),this.realNode=e,t&&(e.style.width="0px",e.style.height="0px",e.style.zIndex=-9999,e.style.position="fixed",e.style.top="-100%",e.style.left="-100%"),e}}]),t}(),Yi=function(t){function e(t,i,n){ui(this,e);var o=ci(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return o.attr({width:"100%",height:"100%"}),o.globalStyle=new Xi("style",o),o.defs=new Xi("defs",o),o._setId(),o}return fi(e,t),di(e,[{key:"def",value:function(t){return this.defs._getDefById(t)||""}},{key:"_getDefById",value:function(t){for(var e=0,i=this.children.length;e<i;e++){var n=this.children[e].getId();if(n&&(n===t||n===wi.DRAW_ID_KEY+"-"+t))return"url(#"+n+")"}return""}},{key:"addGlobalStyle",value:function(t){return this.globalStyle.html+=t,this}},{key:"addRG",value:function(t,e,i,n){return n=n||[[0,"#333",1],[1,"#555",1]],new Xi("radialGradient",this.defs)._setId().attr({cx:t,cy:e,r:i})._stops(n)}},{key:"addLG",value:function(t,e,i,n,o){return t=b(t)+"%",e=b(e)+"%",i=b(i,1)+"%",n=b(n)+"%",o=o||[[0,"#333",1],[1,"#555",1]],new Xi("linearGradient",this.defs)._setId().attr({x1:t,x2:i,y1:e,y2:n})._stops(o)}},{key:"g",value:function(t){var e=new Xi("g",this)._setId();s(t)&&t.forEach(function(t){new Xi("path",e)})}},{key:"addFilter",value:function(t){return new Xi("filter",this.defs)._setId()._filter(t)}},{key:"addMarker",value:function(t,e){var i=new Xi("marker",this.defs)._setId().attr(t);return new Xi("circle",i).attr({cx:5,cy:5,r:4,fill:"none",stroke:e||"#ffffff",strokeWidth:1}),i}},{key:"addPattern",value:function(t){var e=new Xi("pattern",this.defs)._setId().attr(t),i=e.attrs,n=i.width,o=i.height;return new Xi("line",e).attr({x1:n/2,y1:0,x2:n/2,y2:o,strokeWidth:n/2,stroke:"rgba(0,0,0,.2)"}),e}},{key:"create",value:function(t,e){return new Xi(t,this).attr(e)}}]),e}(Xi),Ui={size:{width:0,height:0,responsive:!0},position:{left:0,top:0,responsive:!0},id:"",className:"",zIndex:wi.PANEL_DEFAULT_ZINDEX,layout:null,isWidget:!1},ji={_onDragStart:function(t){Et(t);var e=this._scrollPane;if(vi(e)){var i=t.clientX,n=t.clientY,o=e.scrollLeft,r=e.scrollTop;this._startDrag={x:i,y:n,width:ft(e,"width"),height:ft(e,"height"),left:o,top:r},J(e,wi.NAME+"-grabbing"),wt(e,"mousemove",this._onDragging,this),wt(e,"mouseup",this._onDragend,this)}},_onDragging:function(t){var e=this._scrollPane,i=this._startDrag;vi(e)&&f(i)&&(e.scrollLeft=(i.left||0)-t.clientX+i.x,e.scrollTop=(i.top||0)-t.clientY+i.y)},_onDragend:function(t){Nt(this._scrollPane,"mousemove",this._onDragging,this),Q(this._scrollPane,wi.NAME+"-grabbing")},disableDrag:function(){var t=this._scrollPane;vi(t)&&(Nt(t,"mousedown",this._onDragStart,this),Nt(t,"mousemove",this._onDragging,this),Nt(t,"mouseup",this._onDragend,this),this._startDrag=null,Q(t,wi.NAME+"-grab"))},enableDrag:function(){var t=this.options;if(t.drag&&this._pane){var e=Ue(t,this._pane);vi(e)&&(this._scrollPane=e,J(e,wi.NAME+"-grab"),wt(e,"mousedown",this._onDragStart,this))}}},Bi={_resize:function(){var t=this,e=this.options,n=this._pane,o=this.vc,r=e.updateInterval;if(!this._onResize&&e.trackResize){var l=e.renderDelay>0?Math.max(r,e.renderDelay):r;this._onResize=k(function(r,l){e.trackResize&&(e.zoom.enable?Be(o,n,t.scale):(t.update(),"function"==typeof e.update&&e.update(t),"function"==typeof r&&i(r,l)(t)))},l,this),wt(window,"resize",this._onResize,this)}},_removeResize:function(){this._onResize&&(Nt(window,"resize",this._onResize,this),this._onResize=null)}},Ki={_performZoom:function(t){var e=this.options.zoom.ratio;this.zoom(this.scale+(this._wheelScroll.delta>0?e:-e),t)},_onWheelScroll:function(t){var e=this;Et(t);var i=It(t),n=this._wheelScroll.startTime;this._wheelScroll.delta=i,n||(this._wheelScroll.startTime=+new Date);var o=Math.max(wi.DEBOUNCE-(+new Date-n),0);clearTimeout(this._wheelScroll.timer),this._wheelScroll.timer=setTimeout(function(){e._performZoom({x:t.offsetX,y:t.offsetY})},o)},enableScrollWheel:function(){this.disableScrollWheel(),this._scrollPane||(this._scrollPane=Ue(this.options,this._pane)),this._wheelScroll={delta:0,startTime:0,timer:0},wt(this._scrollPane,"mousewheel",this._onWheelScroll,this)},disableScrollWheel:function(){this._scrollPane&&Nt(this._scrollPane,"mousewheel",this._onWheelScroll,this)}},Vi=function(){function t(e){ui(this,t);var i=this.options=I(Hi,e),n=this.container=i.container?y(i.container):null;this._initOptions(),this._fullId=i.fullId,this._fullZIndex=i.fullZIndex||0,this._hideIds=i.hideIds||[],this._showIds=i.dev.showIds||[],this.style=I(Zi,i.style||{}),this._sizes=Tt(i.rows,i.cols),this._vc=Kt(),e.uuid&&(this.uuid=e.uuid),Gt(i)&&(Zt(i,this._vc),vi(n)&&this._initContainer())}return di(t,[{key:"_initOptions",value:function(){var t=this.options,e=o(t.fontScale,.1);t.padding=G(t.padding,e),f(t.panel.custom)&&(t.panel.custom=[t.panel.custom]),s(t.panel.custom)&&(t.panel.custom=t.panel.custom.map(function(t){return I({headHeight:0,footHeight:0,leftWidth:0,rightWidth:0,gutter:0,zIndex:wi.PANEL_DEFAULT_ZINDEX},t)})),f(t.widgets)&&(t.widgets.isWidget=!0),s(t.widgets)&&t.widgets.forEach(function(t){t.isWidget=!0});var i=document.documentElement;if("16px"===et(i,"fontSize")&&t.rem>1){var n=A(t.rem);et(i,{fontSize:u(n)?C(n):t.rem})}}},{key:"_initContainer",value:function(){var t=this._vc,e=this.container,i=this.options,n=this._sizes;if(t&&e&&i&&n){$t(e),this._oldContainerStyle={display:dt(e,"display")},"static"===dt(e,"position")&&i.zoom.enable&&(this._oldContainerStyle.position="static",et(e,{position:"relative"})),Ke(e,!1);var o=this.style;o&&ze(e,o.container,!0),Ne(e)&&(i.updateInterval+=50);var r=this._zoomContainer=we(e,i),l=i.scroll,a={},s=this._pane=Bt(i);i.zoom.enable&&(i.drag=!0),i.zoom.enable||i.overflowVisible?a.overflow="visible":l.x&&l.y?a.overflow="auto":l.x&&!l.y?(a.overflowX="auto",a.overflowY="hidden"):!l.x&&l.y&&(a.overflowY="auto",a.overflowX="hidden"),et(r,a),et(r.parentNode,{overflow:i.overflowVisible?"visible":"hidden"}),r.appendChild(s),Ft(t,s,n,i,this._vpanels=[]),i.panel&&i.panel.enable&&jt(t,i),Qt(t,i.extends,i,!0),Qt(t,i.widgets,i,!0),Ae(t,i),this._fullId&&Oe(t,this._getId(this._fullId),this._fullZIndex),et(e,{display:"none"}),Le(e,t,r,r.parentNode,i,s,this.style),this._render()}}},{key:"_render",value:function(){var t=this,e=this._pane,i=this.options;if(e&&i){var n=i.renderDelay;n>0&&i.updateInterval>0&&(n=Math.max(n,i.updateInterval)),n>0?setTimeout(function(){t._onRender()},n||0):this._onRender()}}},{key:"_onRender",value:function(){var t=this._vc,e=this.container,i=this._pane,n=this.options;if(e&&t&&n){var r=this._showIds;if(r&&(this._hideIds=be(r,this.getIds())||this._hideIds),Ee(this._hideIds,t,n,r&&r.length>0),i.appendChild(Vt(t)),n.dev.enable&&oi(i,t,n),Fe(e,t,n),this._resize(),et(e,{display:this._oldContainerStyle.display}),this._updateSize(),n.zoom.enable){var l=o(n.zoom.auto?Math.min(e.clientHeight/this.height,e.clientWidth/this.width):n.zoom.scale,wi.MIN_ZOOM,wi.MAX_ZOOM);this._initZoomEvent(),this.zoom(l),n.zoom.wheelZoom&&this.enableScrollWheel()}if(n.drag&&this.enableDrag(),n.focus.id){var a=n.focus,s=a.id,h=a.offsetX,u=a.offsetY;this.focus(s,h,u)}Ge(t,n.lineHeight),n.onload&&"function"==typeof n.onload&&n.onload(this)}}},{key:"_initZoomEvent",value:function(){var t=this,e=this.options,i=this.container,n=e.zoom;if(n.enable&&n.control){var o=st(i,"."+wi.ZOOMIN),r=st(i,"."+wi.ZOOMOUT),l=n.ratio;this._zoomInfoPane=st(i,"."+wi.ZOOMINFO),vi(o)&&vi(r)&&(wt(o,"click",function(){t.zoom(t.scale+l)},this),wt(r,"click",function(){t.zoom(t.scale-l)},this))}}},{key:"_getId",value:function(t){return u(t)?t:oe(this._vc,t,this.options.alias)}},{key:"_getNode",value:function(t,e){return he(this._vc,this._getId(t),e||wi.PANEL)}},{key:"getOption",value:function(){return this.options}},{key:"getPanelCount",value:function(){return this.getIds().length}},{key:"getIds",value:function(){return qt(this._vc)}},{key:"getAliasName",value:function(){var t=this.options.alias;return t&&s(t)?t.map(function(t){return t.name}):[]}},{key:"getAlias",value:function(t){var e=this.options.alias;if(void 0===t)return e;var i=(s(t)?t:[t]).map(function(t){return ie(e,pt(t))});return 1===i.length?i[0]:i}},{key:"getContainer",value:function(){return this.container}},{key:"zoom",value:function(t){var e=this._pane,i=this._vc,n=this.options,r=this._zoomContainer,l=this.$width(),a=this.$height(),s={};if(!(n.zoom.enable&&u(t)&&this.scale!==t&&i&&e&&n))return this;this.scale=t=o(t,n.zoom.min,n.zoom.max),vi(this._zoomInfoPane)&&(this._zoomInfoPane.innerHTML=P(t,1)),s[Ni]="scale("+t+")",et(e,s);var h=ct(r.parentNode),d=(h.height-a*t)/2,f=(h.width-l*t)/2;return(d<0||1===t)&&(d=0),(f<0||1===t)&&(f=0),et(r,{width:l*t+"px",height:a*t+"px",paddingTop:d+"px",paddingLeft:f+"px"}),this}},{key:"focus",value:function(t,e,i){return je(this._vc,this._pane,this.options,t,e||0,i||0),this}},{key:"get",value:function(t){var e=this;if(!t)return null;var i=(s(t)?t:[t]).map(function(t){return se(e._vc,pt(t),e.options)});return 1===i.length?i[0]:i}},{key:"getAll",value:function(){return this.get(this.getIds())}},{key:"_getXComponent",value:function(t,e){var i=this.get(t);return s(i)?i.map(function(t){return t&&t[e]}):i&&i[e]}},{key:"panel",value:function(t){return this._getXComponent(t,"panel")}},{key:"wrap",value:function(t){return this._getXComponent(t,"wrap")}},{key:"center",value:function(t){return this._getXComponent(t,"center")}},{key:"head",value:function(t){return this._getXComponent(t,"head")}},{key:"left",value:function(t){return this._getXComponent(t,"left")}},{key:"right",value:function(t){return this._getXComponent(t,"right")}},{key:"foot",value:function(t){return this._getXComponent(t,"foot")}},{key:"clearPanel",value:function(t,e){var i=this;return t&&(s(t)?t:[t]).forEach(function(t){var n=i._getNode(pt(t));n&&(e||Xe(n,i.container,i._vc,i.options),n.clear(),n.update())}),this}},{key:"clearAllPanel",value:function(t){return this.clearPanel(this._vpanels,t)}},{key:"_setPanel",value:function(t){var e=this,i=t.panels,n=t.headHeight,o=void 0===n?0:n,r=t.footHeight,l=void 0===r?0:r,a=t.leftWidth,h=void 0===a?0:a,u=t.rightWidth,d=void 0===u?0:u,c=t.gutter,p=void 0===c?0:c,v=this.options.panel;if(i&&(s(i)||(i=[i]),v.custom||(v.custom=[]),f(v.custom)&&(v.custom=[v.custom]),s(v.custom))){this.clearPanel(i);var g=i.map(function(t){return e._getNode(pt(t))});v.custom.forEach(function(t,n){if(t.panels===i)return void v.custom.splice(n,1);s(t.panels)||(t.panels=[t.panels]);var o=!1;t.panels.forEach(function(n,r){var l=e._getId(n);i.forEach(function(e){if(l===e)return t.panels.splice(r,1),void(o=!0)})})}),v.custom=v.custom.filter(function(t){return t.panels.length>0});var m={panels:i,headHeight:o,footHeight:l,leftWidth:h,rightWidth:d,gutter:p};v.custom.push(m),g.forEach(function(t){Ut(t,m,e.options.fontScale),t.createElement()})}}},{key:"setPanelLayout",value:function(t){var e=this;return t&&((s(t)?t:[t]).forEach(function(t){return e._setPanel(t)}),this.update()),this}},{key:"_updatePanel",value:function(t){var e=this,i=t.panels,n=t.left,o=t.top,r=t.width,l=t.height,a=t.zIndex;return(s(i)?i:[i]).forEach(function(t){var i=e._getNode(pt(t));if(i){if(n){var s=i.percentLeft=z(n)?L(n):null;null!==s&&(n=s),u(n)&&(void 0===i._oldLeft&&(i._oldLeft=i.getLeft()),i.setLeft(null!==s?n*e.width:n))}if(o){var h=i.percentTop=z(o)?L(o):null;null!==h&&(o=h),u(o)&&(void 0===i._oldTop&&(i._oldTop=i.getTop()),i.setTop(null!==h?o*e.height:o))}if(u(a)&&(void 0===i._oldZIndex&&(i._oldZIndex=i.styles.zIndex),i.setStyle({zIndex:a})),void 0!==r&&null!==r){r=r||i.width;var d=i.percentWidth=z(r)?L(r):null;null!==d&&(r=d),u(r)&&(void 0===i._oldWidth&&(i._oldWidth=i.getWidth()),i.setWidth(null!==d?r*e.width:r))}if(void 0!==l&&null!==l){l=l||i.height;var f=i.percentHeight=z(l)?L(l):null;null!==f&&(l=f),u(l)&&(void 0===i._oldHeight&&(i._oldHeight=i.getHeight()),i.setHeight(null!==f?l*e.height:l))}(void 0!==i._oldWidth||void 0!==i._oldHeight||i._classChange||i._styleChange)&&Ge(e._vc,e.options.lineHeight),i.update()}}),this}},{key:"_restorePanel",value:function(t){var e=this,i=t.panels,n=t.size,o=void 0===n||n,r=t.position,l=void 0===r||r,a=t.zIndex,h=void 0===a||a;(s(i)?i:[i]).forEach(function(t){var i=e._getNode(pt(t));i&&(l&&(void 0!==i._oldLeft&&i.setLeft(i._oldLeft),void 0!==i._oldTop&&i.setTop(i._oldTop)),o&&(void 0!==i._oldWidth&&i.setWidth(i._oldWidth),void 0!==i._oldHeight&&i.setHeight(i._oldHeight)),h&&void 0!==i._oldZIndex&&i.setStyle({zIndex:i._oldZIndex}),i.update())})}},{key:"restore",value:function(t){var e=this;return void 0===t?this._restorePanel({panels:this.getIds(),size:!0,position:!0,zIndex:!0}):(s(t)?t:[t]).forEach(function(t){t.panels&&e._restorePanel(t)}),this}},{key:"$top",value:function(t){var e=this._getNode(pt(t));return e?e.getTop():0}},{key:"$left",value:function(t){var e=this._getNode(pt(t));return e?e.getLeft():0}},{key:"$width",value:function(t,e){if(0===arguments.length)return this.width;var i=t;if(!vi(t)){var n=this._getNode(pt(t),e);i=n&&n.realDom}return vi(i)?ft(i,"width"):-1}},{key:"$height",value:function(t,e){if(0===arguments.length)return this.height;var i=t;if(!vi(t)){var n=this._getNode(pt(t),e);i=n&&n.realDom}return vi(i)?ft(i,"height"):-1}},{key:"show",value:function(t){var e=this,i=this.container;return!t&&i&&ot(i)?et(i,{display:"block"}):(s(t)?t:[t]).forEach(function(t){var i=e._getId(pt(t)),n=e.panel(i);if(vi(n)&&ot(n)){var o=R(e._hideIds,i);o>=0&&e._hideIds.splice(o,1),et(n,{display:"block"})}}),this}},{key:"hide",value:function(t){var e=this,i=this.container;if(t||!i||ot(i)){var n=[];(s(t)?t:[t]).forEach(function(t){var i=e._getId(pt(t));n.push(i),R(e._hideIds,i)<0&&e._hideIds.push(i)}),Ee(n,this._vc,this.options)}else et(i,{display:"none"});return this}},{key:"each",value:function(t,e,i){var n=e?(s(e),e).map(function(t){return pt(t)}):this.getIds();return xe(this._vc,this.options,t,n,i),this}},{key:"remove",value:function(t,e){var i=this;return 0===arguments.length?this._remove():(s(t)?t:[t]).forEach(function(t){var n=i._getNode(pt(t));n&&n.remove&&(e||Xe(n,i.container,i._vc,i.options),n.remove())}),this}},{key:"addPanel",value:function(t){var e=this.options,i=Jt(this._vc,e.padding,t,e.fontScale,!0);return this._vc.realDom&&i&&this._vc.realDom.appendChild(i.createElement()),this.get(i.getId())}},{key:"_remove",value:function(){var t=this._pane,e=this._oldContainerStyle,i=this.container
;Ye(i,this._vc,this.options),this.removeStyle(),this.disableDrag(),this._removeResize(),this._sizes=null,this._fullId=0,this._fullZIndex=0,this._showIds=null,this._hideIds=null,this.style=null,this._vc.remove(),vi(t)&&t.parentNode&&t.parentNode.removeChild(t),at(wi.ZOOMPANE,i),at(wi.EXT_PANE,i),this._pane=null,this._vc=null,this._vpanels=null,this._scrollPane=null,this.options=null,e&&e.position&&et(i,{position:e.position}),this.container=null,this._oldContainerStyle=null,this._oldBodyScroll=null,this._popo_id=0,this._zoomContainer=null,this._zoomInfoPane=null,this.width=0,this.height=0}},{key:"full",value:function(t,e){if(t){var i=this._getId(pt(t));u(i)&&i>0&&(this._fullId>0&&this.unFull(),this._fullId=i,this._fullZIndex=e||0,this.update())}return this}},{key:"unFull",value:function(){return this._fullId>0&&De(this._vc,this._getId(this._fullId))&&(this._fullId=0,this._fullZIndex=0,this.update()),this}},{key:"_updateSize",value:function(){var t=Me(this._vc,this.options);t&&(this.width=t.width,this.height=t.height)}},{key:"update",value:function(t){var e=this;return void 0===t?(We(this._vc,this._pane,this._sizes,this.options,this._getId(this._fullId),this._fullZIndex||0),this._updateSize()):((s(t)?t:[t]).forEach(function(t){f(t)&&e._updatePanel(t)}),this.update()),this}},{key:"setBodyScroll",value:function(){var t=document.body,e=this._zoomContainer;return e&&e.parentNode&&(this._oldBodyScroll={body:t.style.overflow,zc:e.style.overflow,zcParent:e.parentNode.style.overflow},et(document.body,{overflowY:"auto"}),et(this._zoomContainer.parentNode,{overflow:"visible"}),et(this._zoomContainer,{overflow:""})),this}},{key:"resetBodyScroll",value:function(){var t=this._oldBodyScroll;if(t){var e=document.body,i=this._zoomContainer;this._oldBodyScroll={body:e.style.overflow,zc:i.style.overflow,zcParent:i.parentNode.style.overflow},et(document.body,{overflow:t.body}),et(this._zoomContainer.parentNode,{overflow:t.zc}),et(this._zoomContainer,{overflow:t.zcParent}),this._oldBodyScroll=null}return this}},{key:"_setStyle",value:function(t,e){if(f(t)){var i=this._vc,n=this.options,o=this.container,r=this._zoomContainer;c(this.style)||Se(o,i,n,this.style),this.style=e?I(this.style,t):t,Le(o,i,r,r.parentNode,n,this._pane,this.style,!0)}return this}},{key:"setStyle",value:function(t){return this._setStyle(t,!1)}},{key:"updateStyle",value:function(t){return this._setStyle(t,!0)}},{key:"removeStyle",value:function(){var t=this.style,e=this._vc,i=this.options,n=this.container;return t&&(Se(n,e,i,t),this.style=null),this}},{key:"addTo",value:function(t,e){var i=this;if(this.container)throw new Error(Mi.POPO_EXSIT);var n=y(t);return n&&vi(n)&&(this.container=n,e>0?setTimeout(function(){i._initContainer()},e):this._initContainer()),this}},{key:"isInPanel",value:function(t,e,i){var n=this.get(t);if(n){var o=n.position,r=n.size;return e>=o.left&&e<=o.left+r.width&&i>=o.top&&i<=o.top+r.height}return!1}}]),t}();g(Vi.prototype,[ji,Bi,Ki]);var qi=[],$i=i,Ji=I,Qi=n,tn=J,en=q,nn=Q,on=et,rn=ut,ln=ot,an=it,sn=nt,hn=window&&window.P;t.DomUtil=xi,t.DomEvent=Ai,t.Util=yi,t.Browser=Ri,t.addClass=tn,t.hasClass=en,t.removeClass=nn,t.css=on,t.attr=rn,t.isHidden=ln,t.create=an,t.html=sn,t.bind=$i,t.merge=Ji,t.extend=Qi,t.noConflict=si,t.version="1.4.0",t.validateLayoutExp=Dt,t.init=ri,t.dispose=ai,t.getInstanceByDom=li,Object.defineProperty(t,"__esModule",{value:!0})});
