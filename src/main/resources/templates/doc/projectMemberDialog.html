<table id="userDataGrid" 
	class="easyui-datagrid"
 	data-options="border:false,
		fit:true,
		fitColumns:true,
		singleSelect:true,
		checkOnSelect:false,
		selectOnCheck:false,
		toolbar:'#userDataGridToolbar',
		pagination:true,
		pageSize:20,
		method:'get',
		url:ctx+'/sys/authAccess/ajax/getPageUsers',
   		onBeforeLoad:function(param){
      		$.pageOnBeforeLoad(param);
       		try{
         		param.orgIds = $('#orgIds').combo('getValue');
				param.accessAuth = $('#accessAuth').combo('getValue');
				param.keywords = $('#keywords').textbox('getValue');
             	var selectedRole = $('#treeGrid').treegrid('getSelected');
             	if (selectedRole) { param.roleId = selectedRole.roleId; }
           	}catch(e){}
     	}
	">
	<thead>
		<tr>
      		<th data-options="field:'userId',title:'用户ID',checkbox:true"></th>
            <th data-options="field:'nickname',title:'昵称',width:120"></th>
            <th data-options="field:'accessAuth',title:'授权状态',width:80,align:'center',formatter:$.accessAuthFormatter"></th>
            <th data-options="field:'username',title:'账号',width:120"></th>
            <th data-options="field:'mobile',title:'手机',width:120"></th>
            <th data-options="field:'email',title:'邮箱',width:250"></th>
		</tr>
	</thead>
</table>
<!-- 授权人员 工具栏 -->
<div id="userDataGridToolbar" class="myui-toolbar">
	<a href="javascript:addRoleMember();"
    	class="easyui-menubutton myui-btn-normal myui-btn-green"
    	data-options="iconCls:'fa fa-plus',
       		hasDownArrow:false
      	">添加成员
	</a>
	<a href="javascript:removeRoleMember();"
    	class="easyui-menubutton myui-btn-normal myui-btn-red"
       	data-options="iconCls:'fa fa-minus',
      		hasDownArrow:false
       	">移除成员
	</a>
	<form id="userDataGridForm" class="search-box">
   		<input type="text" name="orgIds"
    		id="orgIds"
         	class="easyui-combotreegrid"
         	th:data-options="|fitColumns:true,
				singleSelect:true,
            	prompt:'组织机构',
            	width:220,
                panelWidth:344,
				idField:'orgId',
		   		treeField:'text',
				method:'get',
            	url:ctx+'/sys/org/ajax/getTree',
           		columns:[[
                	{field:'text',title:'组织机构名称',width:100}
               	]],
             	onLoadSuccess:function(row,data){
            		$(this).treegrid('expandAll');
            	}
          	|"/>
     	<input type="text" name="accessAuth" value="true"
        	id="accessAuth"
        	class="easyui-combobox"
        	data-options="prompt:'是否授权',
         		width:120,
				panelHeight:120,
				editable:false,
           		valueField:'value',
				textField:'text',
				data: [
				    {text:'全部',value:''},
				    {text:'已授权',value:'true'},
					{text:'未授权',value:'false'}
				]
			"/>
   		<input type="text" name="keywords"
    		id="keywords" 
   			class="easyui-textbox"
        	data-options="prompt:'昵称、账号、手机号',
	       		width:220
        	"/>
      	<a href="javascript:searchUserDataGrid();" 
        	class="easyui-linkbutton myui-btn-blue myui-btn-normal"
       		data-options="iconCls:'fa fa-search'
         	">查询
    	</a>
    	<a href="javascript:resetUserDataGrid();"
      		class="easyui-linkbutton myui-btn-brown myui-btn-normal"
      		data-options="iconCls:'fa fa-trash'
      		">清空
    	</a>
	</form>
</div>